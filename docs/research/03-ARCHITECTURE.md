# 03-ARCHITECTURE: The Sovereign Loom

*   **File:** `docs/research/03-ARCHITECTURE.md`
*   **Context:** Systems Architecture & Full-Stack Ontology
*   **Date:** December 12, 2025
*   **Status:** `v3.5` (The Refactored Standard)

> **The Machine of Applied Physics.**
> *This paper defines the design for the Loom Virtual Machine (LVM). Unlike legacy operating systems that manage "Files" and "Threads," the LVM manages "Digital Matter." It implements the 9-Layer Genesis Stack, enforcing the laws of Sovereign Uniqueness, Tropical Time, and Quantale Economics to create a "Glass Box" computing environment that empowers the Human-in-the-loop, as mandated by our mission in `01a-COHESION`.*

---

## 1. Abstract: The Organism Metaphor

**Papers `01a` & `01b`** identified the "Cognitive Crisis" and positioned our work as a new path towards accountable systems.
**The `02-Series` Canon** defined the "Laws": Space (Genesis), Time (Tropical), Interaction (Quantale), Perception (Resonance), Mind (Neurology), and Defense (Rituals).

This paper defines **The Machine**. The **LVM (Loom Virtual Machine)** is designed as a **Digital Organism**. It possesses:
1.  **Proprioception:** It knows its own resource limits and security tier (Layers 1-2).
2.  **Memory:** It has an immutable causal history and a plastic fractal mind (Layers 3-4).
3.  **Perception:** It filters reality through contextual lenses (Layer 5).

The result is not a "Computer" in the traditional sense, but a **Sovereign Actor** capable of holding Truth in a hostile network.

---

## 2. The 9-Layer Genesis Stack

We replace the OSI Model and the Von Neumann architecture with an evolutionary stack that builds complexity from the bottom up. We collapse the distance between **Metal** (Code) and **Intent** (UI).

| Phase | Layer | Name | Function | The Physics (Constraint) |
| :--- | :--- | :--- | :--- | :--- |
| **IV. Interface** | **9** | **Rendering** | **Visual Engine** | The Common Ground. (Visual Logic). |
| | **8** | **Social** | **Lattice** | Holographic Network. (Thermal Isomorphism). |
| | **7** | **Language** | **cdqnLang** | The Bridge. (Decks -> Bytecode). |
| **III. Actors** | **6** | **Entities** | **Fractal Self** | The Strange Attractor. (`02e-NEUROLOGY`). |
| **II. Context** | **5** | **Worlds** | **Filter** | The Lens of Perception. (`02d-RESONANCE`). |
| **I. Laws** | **4** | **Chemistry** | **Interaction** | Valency & Quantales. (`02c-CHEMISTRY`). |
| | **3** | **Physics** | **Time/State** | Tropical Causality & Inertia. (`02b-PHYSICS`). |
| | **2** | **Maths** | **Space** | Sovereign Uniqueness. (`02a-MATHS`). |
| | **1** | **Metal** | **Substrate** | Continuum Memory & Tiers. (`02f-SECURITY`). |

---

## 3. Phase I: The Laws (The Hard Kernel)

These layers run in **Kernel Space**. They are immutable constraints enforced by the LVM runtime (built in **Rust `no_std`** for safety). They will be specified in papers `03a` through `03d`.

*   **Layer 1: METAL (The Continuum).**
    *   The machine acknowledges it exists on finite silicon. It manages memory via the **Continuum Memory System** and is aware of its **Sovereignty Tier** (Guest vs. Sovereign).
*   **Layer 2: MATHS (The Seed).**
    *   **Sovereign Uniqueness:** Space is generated by a deterministic **Genesis Seed** unique to the user (`02a`).
    *   **Matroid Exclusion:** Two objects cannot occupy the same semantic coordinate.
*   **Layer 3: PHYSICS (The Arrow).**
    *   **Thermodynamics:** Data transitions between Gas (Context) and Crystal (Truth) based on **Thermal Stability** (`02b`).
    *   **Tropical Geometry:** History is a cryptographic hash chain. Time is monotonic.
*   **Layer 4: CHEMISTRY (The Economy).**
    *   **Quantale Logic:** Interaction requires Energy (`02c`). Data is rivalrous.
    *   **Valency:** Defines bond strength and structural limits.

---

## 4. Phase II: The Context (The Filter)

We introduce a semantic firewall specified in `03e-WORLDS`.

*   **Layer 5: WORLDS.**
    *   The LVM does not run in a void. It runs inside a **World Context**, which is a **Spectral Filter** (`02d`).
    *   **The Filter:** The World defines which frequencies of logic are allowed to resonate. It prevents **"Cognitive Contamination"** by blocking "Fiction" logic from entering the "Reality" context.
    *   **The Lineage:** The World filter also manages the **Merkle Tree of Reputation**, verifying the provenance of code and data.

---

## 5. Phase III: The Actors (The Artificial Self)

This is the emergence of the "Agent," specified in `03f-ENTITIES`.

*   **Layer 6: ENTITIES (The Attractor).**
    *   **The Structure:** An Entity is a **Dynamical System** (`02e`) evolving on the memory manifold.
    *   **The Driver:** It maximizes **Reputation** subject to the constraints of the active **World Filter**.
    *   **Proprioception:** The Entity *knows* its own Rank and Energy cost. It does not "crash"; it "refuses" action based on Quantale constraints.

---

## 6. Phase IV: The Interface (The Bridge)

This is where the Human meets the Machine, specified in `03g` and beyond.

*   **Layer 7: LANGUAGE (`cdqnLang`)**
    *   A DSL that compiles Visual Logic (Card Decks) into LVM Bytecode.
*   **Layer 8: SOCIAL (The CDQN Interface)**
    *   Nodes connect to form the **Card Data Quantale Network**. Communication is governed by Quantale Logic (Ownership moves, it is not copied).
*   **Layer 9: RENDERING (The Visual Engine)**
    *   The user sees the **Lattice**: a visual representation of the system's state, structure, and history.

---

**License:** Universal Sovereign Source License (USSL) v2.0.
