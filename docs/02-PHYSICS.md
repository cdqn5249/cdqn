# 02-PHYSICS: The Pulse Engine

* **File:** `docs/02-PHYSICS.md`
* **Repository:** [https://github.com/cdqn5249/cdqn](https://github.com/cdqn5249/cdqn)
* **Version:** 1.1 (Corrected Architecture)
* **Date:** November 25, 2025
* **Author:** Christophe Duy Quang Nguyen

> **The Laws of Motion, Time, and Interaction within the Lattice.**

---

## 1. Philosophy: The Virtual Physics

Traditional software operates on **Mechanical Time** (Clock Cycles) and **Fixed Wiring** (Bus/Pointers). CDQN operates on **Biological Time** (Pulse) and **Wave Propagation** (Echo).

The Runtime acts as a Physics Engine. It simulates the interaction between **Entities** (The Force) and **Cards** (The Matter).

---

## 2. The Pulse (Active Time & Energy)

Time is not a global clock; it is a local resource generated by active entities.

### 2.1 The Resonators (Entities)
Only **Entities** generate a Pulse. The Pulse determines the "Frame Rate" of their logic execution.
*   **Workers (Spells):** **High Pulse.** Short lifespan, high frequency (e.g., 1ms). Used for kinetic tasks (Data Processing, Math). They burn energy quickly.
*   **Bots (Artifacts):** **Steady Pulse.** Persistent lifespan, medium frequency. Used for Infrastructure (I/O, Routing).
*   **Agents (Chronosa):** **Variable Pulse.** Adaptive frequency. Can hibernate (Low Pulse) to save energy or accelerate (High Pulse) for complex reasoning.

### 2.2 The Ratchet (The Arrow of Time)
Every Pulse triggers a cryptographic state change (Ratchet) in the Entity's local log.
*   **Causality:** You cannot "undo" a Pulse. Time only moves forward.
*   **Cost:** Every Pulse consumes `cdqnStar` (Energy). An Entity with zero energy stops Pulsing (Halts).

---

## 3. The Echo (Signal & Space)

Entities communicate by emitting signals into the Lattice. Cards act as the "Landscape" that reflects these signals.

### 3.1 Emission & Detection
*   **The Source:** An **Agent** emits an **Echo** (a Query Vector) into a specific Lattice Sector.
*   **The Landscape:** The **Cards (CDUs)** stored in that sector act as passive resonators.
*   **The Resonance:**
    *   If a Card's **Prime Definition** matches the Echo's frequency, it **Vibrates** (Returns a high relevance score).
    *   If the Card is unrelated, it remains silent (Darkness).

### 3.2 The "Error" as Information
Leveraging **Lattice Cryptography (LWE)**, the "Noise" (Error Vector) in an Echo carries the **Nuance**.
*   The **Prime Element** defines the Target (e.g., "Find Finance Cards").
*   The **Error Vector** defines the Context (e.g., "Specifically regarding high-risk assets").

---

## 4. Quantale Dynamics (Interaction & Cost)

When an Entity "Plays" a Card, the **Quantale** governs the physics of that event.

### 4.1 The Cost Function
*   **The Actor:** The **Worker** pays the cost.
*   **The Object:** The **Card** defines the difficulty (Friction).
*   **The Rule:** To activate a complex Card (e.g., "Encryption Logic"), the Worker must possess sufficient `cdqnStar`. If `Cost > Available_Energy`, the Physics Engine blocks the action.

### 4.2 Non-Commutativity (Causality)
In CDQN Physics, $A + B \neq B + A$.
*   **Sequence:** The order in which an Entity plays cards determines the outcome.
*   *Example:* Playing `Card:Encrypt` then `Card:Send` $\neq$ Playing `Card:Send` then `Card:Encrypt`. The Physics Engine enforces this strict causal chain.

---

## 5. The Quantum Superposition (Simulation)

To allow for planning, an **Agent** can project a "Virtual Pulse."

*   **The Simulation:** The Agent runs a sequence of Cards in a **Superposition State**.
*   **The Physics:** The Engine calculates the outcome and cost *without* committing it to the immutable Log (`la-cdu`).
*   **The Observer:** The **Hidden Markov Model (HMM)** observes the result. If the result aligns with the Node's goals, the Agent collapses the wave and executes the Real Pulse.

---

> *"Entities provide the Pulse. Cards provide the Structure. The Engine enforces the Law."*
